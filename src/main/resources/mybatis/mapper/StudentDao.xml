<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.spring.boot.dao.StudentDao" >
  <resultMap id="BaseResultMap" type="Student" >
   
    <result column="addr" property="addr" jdbcType="VARCHAR" />
    <result column="name" property="name" jdbcType="VARCHAR" />
    <result column="age" property="age" jdbcType="DOUBLE" />
  </resultMap>
  <sql id="Base_Column_List" >
    addr,name,age
  </sql>
   <select id="findByName" resultMap="BaseResultMap" parameterType="String" >
    select 
    <include refid="Base_Column_List" />
    from student
    where name = #{name,jdbcType=VARCHAR}
  </select>
  
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="long" >
    select 
    <include refid="Base_Column_List" />
    from ACCOUNT_CREDIT_EXP
    where ID = #{id,jdbcType=NUMERIC}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="long" >
    delete from ACCOUNT_CREDIT_EXP
    where ID = #{id,jdbcType=NUMERIC}
  </delete>
  <insert id="insert" parameterType="Student" >
<!--   	<selectKey keyProperty="id" resultType="long" order="BEFORE"> -->
<!-- 		select SEQ_ACCOUNTCREDITEXP_ID.nextval from dual -->
<!-- 	</selectKey> -->
    insert into Student (addr,name,age
      )
    values (#{addr,jdbcType=VARCHAR},#{name,jdbcType=VARCHAR},#{age,jdbcType=NUMERIC}
      )
  </insert>
  <update id="updateByPrimaryKey" parameterType="Student" >
    update ACCOUNT_CREDIT_EXP
    set OPTIMISTIC = OPTIMISTIC + 1,
      ROLES = #{roles,jdbcType=VARCHAR},
      CREDIT_AMOUNT = #{creditAmount,jdbcType=DOUBLE},
      SETTLE_ABLE = #{settleAble,jdbcType=VARCHAR},
      CUSTOMER_NO = #{customerNo,jdbcType=VARCHAR},
      EXTERNAL_ID = #{externalId,jdbcType=VARCHAR},
      COMPLETE_TIME = #{completeTime,jdbcType=TIMESTAMP},
      BIZ_TYPE = #{accountBizType,jdbcType=VARCHAR}
    where ID = #{id,jdbcType=NUMERIC}
  </update>
</mapper>